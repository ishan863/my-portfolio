<!DOCTYPE html>
<html>
<head>
    <title>Direct Portfolio Stats Test</title>
    <style>
        body { font-family: Arial; margin: 20px; background: #1e293b; color: #f1f5f9; }
        .section { background: #334155; padding: 20px; margin: 10px 0; border-radius: 8px; }
        .error { color: #ef4444; }
        .success { color: #22c55e; }
        .value { font-size: 24px; font-weight: bold; margin: 10px 0; }
        input { padding: 8px; margin: 5px; }
        button { padding: 10px 20px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #2563eb; }
    </style>
</head>
<body>
    <h1>üîç Direct Portfolio Stats Debugging</h1>
    
    <div class="section">
        <h2>Step 1: Check Current Display Values</h2>
        <p>These are what's currently showing in your portfolio:</p>
        <div id="current-values"></div>
        <button onclick="checkCurrentValues()">Check Current Display</button>
    </div>
    
    <div class="section">
        <h2>Step 2: Get Real GitHub Data</h2>
        <p>Fetch real data from GitHub API:</p>
        <div id="github-data"></div>
        <button onclick="fetchGitHubData()">Fetch Real GitHub Data</button>
    </div>
    
    <div class="section">
        <h2>Step 3: Manually Update Stats</h2>
        <p>Enter custom values and update:</p>
        <input type="number" id="repos-input" placeholder="Repos" value="1">
        <input type="number" id="followers-input" placeholder="Followers" value="0">
        <input type="number" id="following-input" placeholder="Following" value="0">
        <input type="number" id="stars-input" placeholder="Stars" value="0">
        <button onclick="manualUpdate()">Update with These Values</button>
        <div id="manual-result"></div>
    </div>
    
    <div class="section">
        <h2>Step 4: Test with Fallback Values</h2>
        <p>Update with fallback (25, 15, 30, 5):</p>
        <button onclick="updateWithFallback()">Use Fallback Values</button>
        <div id="fallback-result"></div>
    </div>

    <script>
        function checkCurrentValues() {
            const repos = document.querySelector('[data-stat="repos"]');
            const followers = document.querySelector('[data-stat="followers"]');
            const following = document.querySelector('[data-stat="following"]');
            const stars = document.querySelector('[data-stat="stars"]');
            
            let html = '<h3>Current HTML Display Values:</h3>';
            html += `<p>Repos element exists: ${repos ? '‚úÖ YES' : '‚ùå NO'}</p>`;
            html += `<p>Repos value: <span class="value">${repos?.textContent || 'NOT FOUND'}</span></p>`;
            html += `<p>Followers element exists: ${followers ? '‚úÖ YES' : '‚ùå NO'}</p>`;
            html += `<p>Followers value: <span class="value">${followers?.textContent || 'NOT FOUND'}</span></p>`;
            html += `<p>Following element exists: ${following ? '‚úÖ YES' : '‚ùå NO'}</p>`;
            html += `<p>Following value: <span class="value">${following?.textContent || 'NOT FOUND'}</span></p>`;
            html += `<p>Stars element exists: ${stars ? '‚úÖ YES' : '‚ùå NO'}</p>`;
            html += `<p>Stars value: <span class="value">${stars?.textContent || 'NOT FOUND'}</span></p>`;
            
            document.getElementById('current-values').innerHTML = html;
        }
        
        async function fetchGitHubData() {
            try {
                const response = await fetch('https://api.github.com/users/ishan863', {
                    headers: { 'Accept': 'application/vnd.github.v3+json' }
                });
                const data = await response.json();
                
                let html = '<h3>Real GitHub API Data:</h3>';
                html += `<p class="success">‚úÖ API Call Successful</p>`;
                html += `<p>Public Repos: <span class="value">${data.public_repos}</span></p>`;
                html += `<p>Followers: <span class="value">${data.followers}</span></p>`;
                html += `<p>Following: <span class="value">${data.following}</span></p>`;
                
                // Get total stars
                const reposRes = await fetch('https://api.github.com/users/ishan863/repos?per_page=100', {
                    headers: { 'Accept': 'application/vnd.github.v3+json' }
                });
                const repos = await reposRes.json();
                const totalStars = repos.reduce((sum, r) => sum + (r.stargazers_count || 0), 0);
                html += `<p>Total Stars: <span class="value">${totalStars}</span></p>`;
                
                document.getElementById('github-data').innerHTML = html;
            } catch (e) {
                document.getElementById('github-data').innerHTML = `<p class="error">‚ùå Error: ${e.message}</p>`;
            }
        }
        
        function manualUpdate() {
            const repos = document.querySelector('[data-stat="repos"]');
            const followers = document.querySelector('[data-stat="followers"]');
            const following = document.querySelector('[data-stat="following"]');
            const stars = document.querySelector('[data-stat="stars"]');
            
            const reposVal = document.getElementById('repos-input').value;
            const followersVal = document.getElementById('followers-input').value;
            const followingVal = document.getElementById('following-input').value;
            const starsVal = document.getElementById('stars-input').value;
            
            if (repos) repos.textContent = reposVal;
            if (followers) followers.textContent = followersVal;
            if (following) following.textContent = followingVal;
            if (stars) stars.textContent = starsVal;
            
            let html = '<h3>Manual Update Result:</h3>';
            html += `<p class="success">‚úÖ Updated all stat elements</p>`;
            html += `<p>Repos now shows: <span class="value">${reposVal}</span></p>`;
            html += `<p>Followers now shows: <span class="value">${followersVal}</span></p>`;
            html += `<p>Following now shows: <span class="value">${followingVal}</span></p>`;
            html += `<p>Stars now shows: <span class="value">${starsVal}</span></p>`;
            
            document.getElementById('manual-result').innerHTML = html;
        }
        
        function updateWithFallback() {
            const repos = document.querySelector('[data-stat="repos"]');
            const followers = document.querySelector('[data-stat="followers"]');
            const following = document.querySelector('[data-stat="following"]');
            const stars = document.querySelector('[data-stat="stars"]');
            
            if (repos) repos.textContent = '25';
            if (followers) followers.textContent = '15';
            if (following) following.textContent = '30';
            if (stars) stars.textContent = '5';
            
            let html = '<h3>Fallback Update Result:</h3>';
            html += `<p class="success">‚úÖ Updated with fallback values</p>`;
            html += `<p>Repos now shows: <span class="value">25</span></p>`;
            html += `<p>Followers now shows: <span class="value">15</span></p>`;
            html += `<p>Following now shows: <span class="value">30</span></p>`;
            html += `<p>Stars now shows: <span class="value">5</span></p>`;
            
            document.getElementById('fallback-result').innerHTML = html;
        }
        
        // Run check on load
        window.addEventListener('load', checkCurrentValues);
    </script>
</body>
</html>
